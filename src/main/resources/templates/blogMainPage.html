<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/reusable :: header(#{existingUser.header.title})">
</head>
<body>
<div th:if="${not blogRecordList.hasContent()}">Products list is empty</div>
<!--TODO Čia testuoju messages-->




<!-- Čoa geruilos -->
<div class="container p-3 b-3"
     th:if="${blogRecordList.hasContent()}">

    <h1>Išparsinam Listą</h1>
    <table border="1px">
        <thead>
        <tr>
            <th>Pavadinimas</th>
            <th>Vartotojo vardas</th>
            <th>Turynys</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="blogRecord: ${blogRecordList}">
            <td><a th:href="@{'/records/' + ${blogRecord.id}}"
                   th:text="${blogRecord.name}">Pavadinimas</a></td>
            <!--          <td th:text="${blogRecord.name}">Pavadinimas</td>-->
            <td th:text="${blogRecord.username}">Vartotojo vardas</td>
            <td th:text="${blogRecord.text}">Pavadinimas</td>
<!--            <td th:text="${blogRecord.id}">ID</td>-->

        </tr>
        </tbody>
    </table>

    <div>
        <ul class="pagination">
            <li class="page-item"
                th:classappend="${blogRecordList.number eq 0 ? 'disabled' : ''}">
                <a class="page-link" th:href="@{/records(page=${blogRecordList.number} - 1)}"
                   th:text="#{blogRecordList.previous}">Previous</a>
            </li>

            <!--Dinaminis max puslapių generavimas-->
            <li class="page-item"
                th:each="pageNumber : ${#numbers.sequence(0, blogRecordList.totalPages - 1)}"
                th:classappend="${pageNumber eq blogRecordList.number ? 'active' : ''}">
                <a class="page-link" th:href="@{/records(page=${pageNumber})}" th:text="${pageNumber} + 1">1</a>
<!--                <a class="page-link"-->
<!--                   th:with="order=${blogRecordList.sort.iterator().hasNext() ? blogRecordList.sort.iterator().next() : null}"-->
<!--                   th:href="@{/records(page=${pageNumber}, sort=${order.property + ',' + order.direction})}"-->
<!--                   th:text="${pageNumber} + 1">1</a>-->

            </li>

            <li class="page-item"
                th:classappend="${blogRecordList.number eq blogRecordList.totalPages - 1 ? 'disabled' : ''}">
                <a class="page-link" th:href="@{/records(page=${blogRecordList.number} + 1)}"
                   th:text="#{blogRecordList.next}"></a>>Next</a>
            </li>
        </ul>

        <span th:text="'Total: ' + ${blogRecordList.totalElements}">Total: 100</span>
    </div>

</div>
</body>
</html>